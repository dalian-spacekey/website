---
layout: post
title: Oracleのデータファイルを小さくする
date: 2015-05-22
tags: ["Oracle"]
---

最近のプロジェクトでOracleを使っていたのですが、開発中に色々操作をしたりテストしたりを繰り返していると、中身がほとんど入っていないにもかかわらずファイルが何GBにもなってしまいます。

*   DBは常に再構築する
*   テスト時には適切なデータをあらためてセットする
*   いつでも欲しい状態をスクリプトから作れる
<p>ということを作業上の原則にしていて、ある意味「開発用の使い捨てDB」みたいな状態なので、特にDBに空き領域を持っておく必要はあんまりないです。

なので時々、

    alter database datafile '/usr/oracle/app/oradata/orcl/system01.dbf' resize 1024m;

というふうにしてdbfファイルを縮小させておくとディスクスペースの節約になっていいですね。

&nbsp;